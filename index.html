<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tournies Network</title>

  <link rel="icon" type="image/png" href="https://cdn.discordapp.com/attachments/392062665117270036/1431613569853689936/crowned_skullv1.png?ex=68fe0d89&is=68fcbc09&hm=01c79f94d613980deb7b4fd306f6a9fa6c026a675d239cd6edbb9d66c16f17b3&" />

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    :root {
      --primary: #75AFFF;
      --primary-dark: #5B8FD9;
      --primary-light: #A5CBFF;
      --gray-light: #F5F7FA;
      --gray-medium: #E2E8F0;
      --gray-dark: #64748B;
      --text-dark: #1E293B;
      --bg-card: #FFFFFF;
      --shadow: rgba(117, 175, 255, 0.15);
      --shadow-hover: rgba(117, 175, 255, 0.25);
    }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #F5F7FA 0%, #E8F2FF 50%, #F0F6FF 100%);
      color: var(--text-dark);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 32px;
      padding: 40px 24px;
    }

    /* Header Styling */
    header { 
      width: 100%; 
      max-width: 880px; 
      text-align: center;
      animation: fadeInDown 0.6s ease;
    }
    
    header img { 
      width: 80%; 
      max-width: 560px; 
      filter: drop-shadow(0 4px 20px var(--shadow));
      transition: transform 0.3s ease;
      cursor: pointer;
    }
    
    header img:hover {
      transform: translateY(-5px);
    }

    /* Navigation Menu */
    .nav-menu {
      display: flex;
      gap: 20px;
      margin: 20px auto;
      max-width: 600px;
      background: var(--bg-card);
      padding: 8px;
      border-radius: 16px;
      box-shadow: 0 4px 20px var(--shadow);
    }

    .nav-item {
      flex: 1;
      padding: 12px 24px;
      background: transparent;
      border: none;
      border-radius: 12px;
      color: var(--text-dark);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .nav-item:hover {
      background: var(--gray-light);
      transform: translateY(-2px);
    }

    .nav-item.active {
      background: var(--primary);
      color: white;
      box-shadow: 0 4px 12px var(--shadow-hover);
    }

    /* Page Sections */
    .page-section {
      display: none;
      width: 100%;
      max-width: 880px;
      animation: fadeIn 0.4s ease;
    }

    .page-section.active {
      display: block;
    }

    /* Home Page Styles */
    .home-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 24px;
      margin-top: 32px;
    }

    .home-card {
      background: var(--bg-card);
      border-radius: 24px;
      padding: 32px;
      text-align: center;
      box-shadow: 0 10px 40px var(--shadow);
      border: 1px solid rgba(117, 175, 255, 0.1);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .home-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .home-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 50px var(--shadow-hover);
    }

    .home-card:hover::before {
      transform: scaleX(1);
    }

    .home-card-icon {
      font-size: 48px;
      margin-bottom: 16px;
      display: block;
      filter: grayscale(0);
      transition: transform 0.3s ease;
    }

    .home-card:hover .home-card-icon {
      transform: scale(1.1);
    }

    .home-card h2 {
      font-size: 24px;
      margin-bottom: 12px;
      color: var(--text-dark);
    }

    .home-card p {
      color: var(--gray-dark);
      line-height: 1.6;
    }

    .welcome-text {
      text-align: center;
      margin-bottom: 32px;
    }

    .welcome-text h1 {
      font-size: 48px;
      font-weight: 800;
      color: var(--text-dark);
      margin-bottom: 16px;
      letter-spacing: -1px;
    }

    .welcome-text p {
      font-size: 18px;
      color: var(--gray-dark);
    }

    /* Empty State for Coming Soon */
    .coming-soon {
      text-align: center;
      padding: 80px 20px;
      background: var(--bg-card);
      border-radius: 24px;
      box-shadow: 0 10px 40px var(--shadow);
    }

    .coming-soon-icon {
      font-size: 64px;
      margin-bottom: 24px;
      opacity: 0.5;
    }

    .coming-soon h2 {
      font-size: 32px;
      margin-bottom: 12px;
      color: var(--text-dark);
    }

    .coming-soon p {
      font-size: 18px;
      color: var(--gray-dark);
    }

    /* Stats Viewer Styles (keeping original styles) */
    .container {
      width: 100%;
      max-width: 520px;
      background: var(--bg-card);
      border-radius: 24px;
      box-shadow: 0 10px 40px var(--shadow), 0 2px 8px rgba(0,0,0,0.05);
      padding: 36px;
      margin: 0 auto;
      transition: all 0.3s ease;
      border: 1px solid rgba(117, 175, 255, 0.1);
    }

    .container:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 50px var(--shadow-hover), 0 4px 12px rgba(0,0,0,0.08);
    }

    /* Search Input */
    .search-wrapper {
      position: relative;
      max-width: 460px;
      margin: 0 auto 20px;
    }

    input[type="text"] {
      display: block;
      width: 100%;
      padding: 16px 50px 16px 20px;
      font-size: 16px;
      font-weight: 500;
      border: 2px solid var(--gray-medium);
      background: var(--gray-light);
      color: var(--text-dark);
      border-radius: 16px;
      outline: none;
      transition: all 0.3s ease;
    }

    input[type="text"]:focus { 
      border-color: var(--primary);
      background: white;
      box-shadow: 0 0 0 4px rgba(117, 175, 255, 0.1);
      transform: translateY(-1px);
    }

    input::placeholder { 
      color: var(--gray-dark);
      font-weight: 400;
    }

    .search-icon {
      position: absolute;
      right: 18px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--primary);
      font-size: 20px;
      pointer-events: none;
    }

    /* Result Message */
    #result { 
      text-align: center;
      margin: 8px 0 16px;
      font-size: 14px;
      font-weight: 500;
      min-height: 20px;
      transition: all 0.3s ease;
    }

    /* Profile Section */
    #profile { 
      display: none;
      margin-top: 20px;
      animation: slideUp 0.4s ease;
    }

    /* Player Skin */
    .skin-wrapper {
      position: relative;
      width: 150px;
      height: 300px;
      margin: 20px auto;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #skin {
      display: block;
      width: 150px;
      height: 300px;
      margin: 0 auto;
      border-radius: 8px;
      image-rendering: auto;
      filter: drop-shadow(0 4px 12px rgba(0,0,0,0.15));
      transition: transform 0.3s ease;
    }
    
    #skin:hover {
      transform: scale(1.05);
    }

    /* Username and Rank */
    .player-info {
      text-align: center;
      margin: 24px 0;
    }

    .username {
      font-size: 28px;
      font-weight: 800;
      color: var(--text-dark);
      margin-bottom: 8px;
      letter-spacing: -0.5px;
    }

    .rank {
      font-size: 16px;
      font-weight: 600;
      text-transform: uppercase;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 8px 16px;
      background: var(--gray-light);
      border-radius: 12px;
      letter-spacing: 0.5px;
    }

    .rank img {
      width: 24px;
      height: 24px;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    /* Stats Grid */
    .stats {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 28px;
    }

    .stat {
      background: var(--gray-light);
      padding: 16px;
      border-radius: 16px;
      border: 1px solid var(--gray-medium);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .stat::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .stat:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px var(--shadow);
      border-color: var(--primary);
    }

    .stat:hover::before {
      transform: scaleX(1);
    }

    .stat span {
      display: block;
      font-size: 12px;
      font-weight: 600;
      color: var(--gray-dark);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 4px;
    }

    .stat strong {
      font-size: 20px;
      font-weight: 700;
      display: block;
    }

    /* Stat value colors - modernized */
    .stat strong.v-rp      { color: var(--primary); }
    .stat strong.v-kills   { color: #EF4444; }
    .stat strong.v-deaths  { color: #6B7280; }
    .stat strong.v-wins    { color: #10B981; }
    .stat strong.v-kdr     { color: #F59E0B; }
    .stat strong.v-tournies{ color: var(--text-dark); }
    .stat strong.v-avg     { color: #3B82F6; }
    .stat strong.v-earn    { color: #10B981; }

    /* Footer */
    footer {
      font-size: 13px;
      color: var(--gray-dark);
      font-weight: 500;
      margin-top: 20px;
    }

    /* Loading Animation */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid var(--gray-medium);
      border-radius: 50%;
      border-top-color: var(--primary);
      animation: spin 1s ease-in-out infinite;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Responsive Design */
    @media (max-width: 480px) {
      body { padding: 24px 16px; }
      .container { padding: 24px; }
      .stats { grid-template-columns: 1fr; }
      .username { font-size: 24px; }
      .welcome-text h1 { font-size: 36px; }
      .nav-menu { flex-direction: column; }
      .home-grid { grid-template-columns: 1fr; }
    }

    /* Rank-based glow effects */
    .container.rank-netherite { box-shadow: 0 10px 40px rgba(85, 85, 85, 0.3), 0 2px 8px rgba(0,0,0,0.05); }
    .container.rank-obsidian  { box-shadow: 0 10px 40px rgba(59, 10, 69, 0.3), 0 2px 8px rgba(0,0,0,0.05); }
    .container.rank-diamond   { box-shadow: 0 10px 40px rgba(0, 255, 255, 0.3), 0 2px 8px rgba(0,0,0,0.05); }
    .container.rank-emerald   { box-shadow: 0 10px 40px rgba(0, 200, 81, 0.3), 0 2px 8px rgba(0,0,0,0.05); }
    .container.rank-gold      { box-shadow: 0 10px 40px rgba(255, 215, 0, 0.3), 0 2px 8px rgba(0,0,0,0.05); }
    .container.rank-iron      { box-shadow: 0 10px 40px rgba(192, 192, 192, 0.3), 0 2px 8px rgba(0,0,0,0.05); }
    .container.rank-coal      { box-shadow: 0 10px 40px rgba(43, 43, 43, 0.3), 0 2px 8px rgba(0,0,0,0.05); }
    .container.rank-copper    { box-shadow: 0 10px 40px rgba(184, 115, 51, 0.3), 0 2px 8px rgba(0,0,0,0.05); }
    .container.rank-stone     { box-shadow: 0 10px 40px rgba(136, 136, 136, 0.3), 0 2px 8px rgba(0,0,0,0.05); }
    .container.rank-wood      { box-shadow: 0 10px 40px rgba(160, 82, 45, 0.3), 0 2px 8px rgba(0,0,0,0.05); }
  </style>
</head>
<body>
  <header>
    <img src="https://cdn.discordapp.com/attachments/392062665117270036/1431613616213459056/tournies_logo.png?ex=68fe0d94&is=68fcbc14&hm=e4e5427205a70ad1e66846169082a9a0fc6910a769ce3374ea71ee8550e8c00d&" alt="Tournies Banner" onclick="showPage('home')">
  </header>

  <!-- Navigation Menu -->
  <nav class="nav-menu">
    <button class="nav-item active" onclick="showPage('home')">Home</button>
    <button class="nav-item" onclick="showPage('leaderboard')">Leaderboard</button>
    <button class="nav-item" onclick="showPage('stats')">Stat Viewer</button>
    <button class="nav-item" onclick="showPage('events')">Events</button>
  </nav>

  <!-- Home Page Section -->
  <section id="home" class="page-section active">
    <div class="welcome-text">
      <h1>Welcome to Tournies</h1>
      <p>Your ultimate Minecraft tournament experience</p>
    </div>
    
    <div class="home-grid">
      <div class="home-card" onclick="showPage('leaderboard')">
        <span class="home-card-icon">üèÜ</span>
        <h2>Leaderboard</h2>
        <p>View the top players and see where you rank among the competition</p>
      </div>
      
      <div class="home-card" onclick="showPage('stats')">
        <span class="home-card-icon">üìä</span>
        <h2>Stat Viewer</h2>
        <p>Check detailed player statistics including kills, wins, and rankings</p>
      </div>
      
      <div class="home-card" onclick="showPage('events')">
        <span class="home-card-icon">üéÆ</span>
        <h2>Events</h2>
        <p>Discover upcoming tournaments and special events on the server</p>
      </div>
    </div>
  </section>

  <!-- Leaderboard Page Section -->
  <section id="leaderboard" class="page-section">
    <div class="coming-soon">
      <span class="coming-soon-icon">üèÜ</span>
      <h2>Leaderboard Coming Soon</h2>
      <p>We're working on bringing you the most comprehensive leaderboard system. Check back later!</p>
    </div>
  </section>

  <!-- Stats Viewer Page Section -->
  <section id="stats" class="page-section">
    <div class="container" id="card">
      <div class="search-wrapper">
        <input type="text" id="username" placeholder="Enter Minecraft username" autocomplete="off" />
        <span class="search-icon">üîç</span>
      </div>
      <div id="result"></div>

      <div id="profile">
        <div class="skin-wrapper">
          <img id="skin" src="" alt="Player Skin" />
        </div>
        
        <div class="player-info">
          <div class="username" id="pname">Player</div>
          <div class="rank" id="prank">
            <img src="" alt="">
            <span>Unranked</span>
          </div>
        </div>

        <div class="stats">
          <div class="stat">
            <span>RP</span>
            <strong id="rp" class="v-rp">0</strong>
          </div>
          <div class="stat">
            <span>Kills</span>
            <strong id="kills" class="v-kills">0</strong>
          </div>
          <div class="stat">
            <span>Deaths</span>
            <strong id="deaths" class="v-deaths">0</strong>
          </div>
          <div class="stat">
            <span>Wins</span>
            <strong id="wins" class="v-wins">0</strong>
          </div>
          <div class="stat">
            <span>K/D Ratio</span>
            <strong id="kdr" class="v-kdr">0.00</strong>
          </div>
          <div class="stat">
            <span>Tournies</span>
            <strong id="tournies" class="v-tournies">0/0</strong>
          </div>
          <div class="stat">
            <span>Avg Rank</span>
            <strong id="avg" class="v-avg">#0</strong>
          </div>
          <div class="stat">
            <span>Earnings</span>
            <strong id="earnings" class="v-earn">$0</strong>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Events Page Section -->
  <section id="events" class="page-section">
    <div class="coming-soon">
      <span class="coming-soon-icon">üéÆ</span>
      <h2>Events Coming Soon</h2>
      <p>Stay tuned for exciting tournaments and special events!</p>
    </div>
  </section>

  <footer>¬© 2025 Tournies Network</footer>

  <script>
    // Page Navigation
    function showPage(pageId) {
      // Hide all sections
      const sections = document.querySelectorAll('.page-section');
      sections.forEach(section => section.classList.remove('active'));
      
      // Show selected section
      const selectedSection = document.getElementById(pageId);
      if (selectedSection) {
        selectedSection.classList.add('active');
      }
      
      // Update nav buttons
      const navButtons = document.querySelectorAll('.nav-item');
      navButtons.forEach(button => button.classList.remove('active'));
      
      // Find and activate the correct nav button
      navButtons.forEach(button => {
        if (button.textContent.toLowerCase().includes(pageId) || 
            (pageId === 'stats' && button.textContent.includes('Stat')) ||
            (pageId === 'home' && button.textContent === 'Home')) {
          button.classList.add('active');
        }
      });
      
      // Save current page to localStorage
      localStorage.setItem('currentPage', pageId);
      
      // If navigating to stats page and there's a saved player, load their stats
      if (pageId === 'stats') {
        const savedPlayer = localStorage.getItem('lastSearchedPlayer');
        if (savedPlayer && !document.getElementById('profile').style.display) {
          lookupPlayer(savedPlayer);
        }
      }
    }

    // Stats Viewer Functionality
    const API = "https://api.tournies.net/info/";
    const input = document.getElementById("username");
    const result = document.getElementById("result");
    const profile = document.getElementById("profile");
    const pname = document.getElementById("pname");
    const skin = document.getElementById("skin");

    const rpStat = document.getElementById("rp");
    const killsStat = document.getElementById("kills");
    const deathsStat = document.getElementById("deaths");
    const winsStat = document.getElementById("wins");
    const kdrStat = document.getElementById("kdr");
    const tourniesStat = document.getElementById("tournies");
    const avgStat = document.getElementById("avg");
    const earningsStat = document.getElementById("earnings");
    const prank = document.getElementById("prank");
    const card = document.getElementById("card");

    function getRankData(rp) {
      if (rp > 1000) return { name: "netherite", color: "#555555", displayName: "Netherite" };
      if (rp > 900)  return { name: "obsidian",  color: "#3B0A45", displayName: "Obsidian" };
      if (rp > 800)  return { name: "diamond",   color: "#00FFFF", displayName: "Diamond" };
      if (rp > 700)  return { name: "emerald",   color: "#00C851", displayName: "Emerald" };
      if (rp > 600)  return { name: "gold",      color: "#FFD700", displayName: "Gold" };
      if (rp > 500)  return { name: "iron",      color: "#C0C0C0", displayName: "Iron" };
      if (rp > 400)  return { name: "coal",      color: "#2B2B2B", displayName: "Coal" };
      if (rp > 300)  return { name: "copper",    color: "#B87333", displayName: "Copper" };
      if (rp > 200)  return { name: "stone",     color: "#888888", displayName: "Stone" };
      if (rp > 100)  return { name: "wood",      color: "#A0522D", displayName: "Wood" };
      return { name: "unranked", color: "#777", displayName: "Unranked" };
    }

    function applyRankTheme(rankName) {
      // Remove all rank classes
      card.className = card.className.replace(/rank-\w+/g, '').trim();
      // Add new rank class
      card.classList.add('container', `rank-${rankName}`);
    }

    function getIconURL(rankName) {
      if (rankName === "unranked") return "https://github.com/maxsinger07/Tournies/blob/main/wood.png?raw=true";
      return `https://github.com/maxsinger07/Tournies/blob/main/${rankName}.png?raw=true`;
    }

    const toNum = v => Number.isFinite(+v) ? +v : 0;
    const fmtInt = v => toNum(v).toLocaleString();
    const fmtMoney = v => `$${toNum(v).toLocaleString()}`;
    const fmtAvgRank = v => `#${Math.round(toNum(v))}`;
    const fmtKDR = (k, d) => {
      const kills = toNum(k), deaths = toNum(d);
      if (deaths <= 0) return kills.toFixed(2);
      return (kills / deaths).toFixed(2);
    };

    async function lookupPlayer(username = null) {
      // If no username provided, get it from the input
      if (!username) {
        username = input.value.trim();
      }
      
      if (!username) return;
      
      // Save the username to localStorage
      localStorage.setItem('lastSearchedPlayer', username);
      
      // Update the input field if needed
      if (input.value !== username) {
        input.value = username;
      }
      
      result.innerHTML = '<span class="loading"></span> Looking up player...';
      result.style.color = "#64748B";
      profile.style.display = "none";

      try {
        const res = await fetch(`${API}${encodeURIComponent(username)}`);
        if (!res.ok) {
          result.innerHTML = '‚ùå Player stats couldn\'t be found.';
          result.style.color = "#EF4444";
          // Clear localStorage if player not found
          localStorage.removeItem('lastSearchedPlayer');
          return;
        }

        const data = await res.json();
        
        // Update stats
        rpStat.textContent = fmtInt(data.rp);
        killsStat.textContent = fmtInt(data.kills);
        deathsStat.textContent = fmtInt(data.deaths);
        winsStat.textContent = fmtInt(data.wins);
        kdrStat.textContent = fmtKDR(data.kills, data.deaths);
        tourniesStat.textContent = data.tournies_played_text ?? "0/0";
        avgStat.textContent = fmtAvgRank(data.average_rank);
        earningsStat.textContent = fmtMoney(data.earnings);

        // Update rank
        const rp = toNum(data.rp);
        const rankData = getRankData(rp);
        prank.innerHTML = `
          <img src="${getIconURL(rankData.name)}" alt="${rankData.displayName}">
          <span style="color:${rankData.color}">${rankData.displayName}</span>
        `;
        applyRankTheme(rankData.name);

        // Get player skin with fallback to Steve
        let uuid = "8667ba71b85a4004af54457a9734eed7"; // Steve's UUID as fallback
        try {
          const uuidRes = await fetch(`https://corsproxy.io/?https://api.mojang.com/users/profiles/minecraft/${encodeURIComponent(username)}`);
          if (uuidRes.ok) {
            const uuidData = await uuidRes.json();
            if (uuidData.id) {
              uuid = uuidData.id;
            }
          } else {
            // If the user lookup fails, try to get Steve's UUID as fallback
            console.log("Failed to get player UUID, using Steve as fallback");
            const steveRes = await fetch(`https://corsproxy.io/?https://api.mojang.com/users/profiles/minecraft/Steve`);
            if (steveRes.ok) {
              const steveData = await steveRes.json();
              if (steveData.id) {
                uuid = steveData.id;
              }
            }
          }
        } catch (skinError) {
          console.error("Error fetching player skin, using default:", skinError);
          // UUID already set to Steve's default
        }

        skin.src = `https://crafatar.com/renders/body/${uuid}?overlay`;
        pname.textContent = username;
        profile.style.display = "block";
        result.innerHTML = '‚úÖ Player found!';
        result.style.color = "#10B981";
        
        // Clear success message after 2 seconds
        setTimeout(() => {
          result.textContent = "";
        }, 2000);
        
      } catch (err) {
        console.error(err);
        result.innerHTML = '‚ö†Ô∏è Network error. Please try again.';
        result.style.color = "#F59E0B";
        // Don't clear localStorage on network error, so user can refresh to retry
      }
    }

    input.addEventListener("keypress", e => { 
      if (e.key === "Enter") lookupPlayer(); 
    });

    // Add clear button functionality
    input.addEventListener("input", e => {
      if (input.value === "") {
        // Clear localStorage when input is cleared
        localStorage.removeItem('lastSearchedPlayer');
        profile.style.display = "none";
        result.textContent = "";
      }
    });

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', () => {
      // Check if there's a saved page
      const savedPage = localStorage.getItem('currentPage');
      
      if (savedPage && savedPage !== 'home') {
        // Navigate to the saved page
        showPage(savedPage);
        
        // If it's the stats page, load saved player
        if (savedPage === 'stats') {
          const savedPlayer = localStorage.getItem('lastSearchedPlayer');
          if (savedPlayer) {
            lookupPlayer(savedPlayer);
          } else {
            input.focus();
          }
        }
      } else {
        // Default to home page
        showPage('home');
      }
    });
  </script>
</body>
</html>
